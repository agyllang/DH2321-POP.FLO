{"version":3,"sources":["components/SwedenMap.js","components/MapContainer.js","components/LinearScale.js","icons/icon-down.svg","icons/icon-up.svg","components/DropDown.js","components/Sankey.js","components/SankeyContainer.js","components/SankeyContainerOut.js","01.csv","components/explanation.js","components/logo3.png","components/images/moa.png","components/images/albin.png","components/images/amalia.png","components/images/hilda.png","components/images/popflo1.mp4","components/images/map.png","components/about.js","components/RadioButtons.js","components/Slider.js","components/SelectedCountyInfoBox.js","scb_data.csv","App.js","reportWebVitals.js","index.js"],"names":["SwedenMap","geographies","selected","selectCounty","counties","height","width","useState","hoverKey","setHoverKey","console","log","geojson","projection","geoConicEquidistant","fitSize","tooltip1","d3","attr","tooltip2","tooltip3","tooltip4","colorScaleSmaller","domain","range","colorScaleBigger","colorScaleNeutral","mapIdToColor","id1","i","id","ratio","className","features","map","d","geoPath","fill","properties","ID_1","stroke","strokeWidth","strokeOpacity","onClick","onMouseOver","event","onMouseEnter","object","text","text2","text3","text4","name","in","out","toFixed","style","mouseEnter","onMouseLeave","MapContainer","setGeographies","svgRef","createRef","swedenCounties","useEffect","feature","objects","SWE_adm1","ref","length","LinearScale","useRef","svg","current","linear","append","legendLinear","legendColor","labelFormat","title","titleWidth","shapeWidth","cells","orient","scale","select","call","_extends","Object","assign","target","arguments","source","key","prototype","hasOwnProperty","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgIconDown","_ref","titleId","props","viewBox","xmlns","ForwardRef","SvgIconUp","DropDown","open","setOpen","ID","returnArray","c","push","getName","indelning","color","SankeyNode","x0","index","x1","y0","y1","x","y","Math","abs","SankeyLink","link","sankeyLinkHorizontal","max","value","SankeyDiagram","data","direction","sankey","nodeWidth","nodePadding","extent","nodes","links","giveColor","prop","forEach","county","mixBlendMode","node","SankeyContainer","year","nodesArray","setNodesArray","linksArray","setLinksArray","React","formatData","countyIndexArr","getIndex","nodesToBe","linksToBe","inflyttLän","j","inflytt","parseInt","SankeyContainerOut","utflyttLän","utflytt","Explanation","show","setShow","About","state","selectedPerson","undefined","detailsPerson","href","controls","src","video","albin","setState","onMouseOut","amalia","hilda","moa","Component","RadioButtons","radioGender","radioSelectedGender","onChange","e","type","checked","Slider","sliderYear","sliderSelectedYear","step","SelectedCountyInfoBox","immigration","emigration","netto","selectedCounty","App","emptyCounties","setSelectedCounty","setYear","gender","setGender","setCounties","updatedCounties","JSON","parse","stringify","then","Inflyttningslän","replace","trim","Utflyttningslän","kön","Number","reduce","partial_sum","a","result","GetData","to","logo","showval","exact","path","render","scope","g","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1f516d73.chunk.js","sourcesContent":["\r\n// src/components/WorldMap.js\r\n\r\nimport React, { useRef, useState, useEffect } from \"react\";\r\nimport { geoConicEquidistant, geoEqualEarth, geoPath } from \"d3-geo\";\r\nimport * as d3 from 'd3';\r\n\r\n\r\n\r\nconst SwedenMap = ({ geographies, selected, selectCounty, counties, height, width }) => {\r\n\r\n    const [hoverKey, setHoverKey] = useState(0)\r\n    console.log(\"hoverKey\", hoverKey)\r\n\r\n    var geojson = {\r\n        \"type\": \"FeatureCollection\", \"features\": geographies\r\n    };\r\n    // console.log(\"geojson\",geojson)\r\n    const projection = geoConicEquidistant().fitSize([width / 2, height / 2], geojson);\r\n\r\n    // const projection = geoConicEquidistant().fitSize([width, height], geographies);\r\n\r\n\r\n    var tooltip1 = d3.select('.tooltip-area1').attr('transform', `translate(10, 40)`)\r\n    // .style('opacity', 0);\r\n    var tooltip2 = d3.select('.tooltip-area2').attr('transform', `translate(10, 60)`);\r\n\r\n    // .style('opacity', 0);\r\n    var tooltip3 = d3.select('.tooltip-area3').attr('transform', `translate(10, 80)`);\r\n    // .style('opacity', 0);\r\n    var tooltip4 = d3.select('.tooltip-area4').attr('transform', `translate(10, 100)`);\r\n    // .style('opacity', 0);\r\n\r\n    // useEffect(() => {\r\n    //     tooltip1\r\n    //         .attr('transform', `translate(10, 50)`);\r\n    //     tooltip2\r\n    //         .attr('transform', `translate(10, 65)`);\r\n    //     tooltip3\r\n    //         .attr('transform', `translate(10, 90)`);\r\n    //     tooltip4\r\n    //         .attr('transform', `translate(10, 105)`);\r\n    // }, [])\r\n\r\n\r\n\r\n\r\n\r\n    const mouseOver = (event, object) => {\r\n        //console.log(\"mouseOver\")\r\n\r\n        // tooltip1.style(\"opacity\", 1);\r\n        // tooltip2.style(\"opacity\", 1);\r\n        // tooltip3.style(\"opacity\", 1);\r\n        // tooltip4.style(\"opacity\", 1);\r\n    };\r\n\r\n    const mouseLeave = (event, d) => {\r\n        //console.log(\"mouseLeave\")\r\n\r\n        tooltip1.style('opacity', 0);\r\n        tooltip2.style('opacity', 0);\r\n        tooltip3.style('opacity', 0);\r\n        tooltip4.style('opacity', 0);\r\n        // setHoverKey(0)\r\n\r\n    }\r\n\r\n\r\n    const mouseEnter = (event, object) => {\r\n        //console.log(\"mouseEnter\")\r\n\r\n        const text = d3.select('.tooltip-area__text');\r\n        const text2 = d3.select('.tooltip-area__text2');\r\n        const text3 = d3.select('.tooltip-area__text3');\r\n        const text4 = d3.select('.tooltip-area__text4');\r\n        for (var i in counties) {\r\n            if (counties[i].id == object.ID_1) {\r\n                //   text.text(object.VARNAME_1,);\r\n                text.text(counties[i].name).attr(\"font-size\",16).attr(\"font-weight\",\"bolder\");\r\n                text2.text(`Immigration: ${counties[i].in}`);\r\n                text3.text(`Emigration: ${counties[i].out}`);\r\n                text4.text(`Ratio: ${counties[i].ratio.toFixed(2)}`);\r\n\r\n                //text.text(counties[i].netto); \r\n            }\r\n        }\r\n        tooltip1.style(\"opacity\", 1);\r\n        tooltip2.style(\"opacity\", 1);\r\n        tooltip3.style(\"opacity\", 1);\r\n        tooltip4.style(\"opacity\", 1);\r\n        setHoverKey(object.ID_1)\r\n\r\n        // tooltip1\r\n        //     .attr('transform', `translate(10, 50)`);\r\n        // tooltip2\r\n        //     .attr('transform', `translate(10, 65)`);\r\n        // tooltip3\r\n        //     .attr('transform', `translate(10, 90)`);\r\n        // tooltip4\r\n        //     .attr('transform', `translate(10, 105)`);\r\n\r\n\r\n\r\n        // if (object.ID_1 !== hoverKey) {\r\n        //     // console.log(\"mouseEnter set new cordinates\")\r\n\r\n\r\n        //     // const [x, y] = d3.pointer(event);\r\n\r\n\r\n        //     // tooltip\r\n        //     //     .attr('transform', `translate(${x}, ${y})`);\r\n        // }\r\n        // else{\r\n        //     console.log(\"här kom vi inte fram\")\r\n        // }\r\n    };\r\n\r\n\r\n\r\n    const calculateMaxMin = () => {\r\n        var calcArr = [];\r\n        counties.forEach((c) => {\r\n            calcArr.push(c.ratio)\r\n        })\r\n        console.log([Math.min.apply(null, calcArr), Math.max.apply(null, calcArr)])\r\n        return [0.5, 1.5];\r\n        // return [Math.min.apply(null, calcArr), Math.max.apply(null, calcArr)];\r\n    }\r\n\r\n    var colorScaleSmaller = d3.scaleSequential().domain([0.6, 0.95])\r\n        .range([\"rgb(0,95,255)\", \"rgb(255,255, 255)\"]);\r\n\r\n    var colorScaleBigger = d3.scaleSequential().domain([1.05, 1.4])\r\n        .range([\"rgb(255,255, 255)\", \"rgb(255,121,0)\"]);\r\n    var colorScaleNeutral = d3.scaleSequential().domain([0.96, 1.04])\r\n        .range([\"rgb(235,242, 255)\", \"rgb(255,255,255)\", \"rgb(255,244,235)\"]);\r\n\r\n    const mapIdToColor = (id1) => {\r\n        // console.log(\"mapIdToColor id1\", id1)\r\n        for (var i in counties) {\r\n\r\n            // console.log(\"counties[i].id\",counties[i].id)\r\n            if (counties[i].id == id1) {\r\n                var pivotPoint = 1.000;\r\n                // var pivotPoint = (calculateMaxMin()[0] + calculateMaxMin()[1] / 2)\r\n\r\n\r\n                if (counties[i].ratio > 1.05) {\r\n                    // console.log(\"bigger\", counties[i].ratio)\r\n\r\n                    return colorScaleBigger(counties[i].ratio)\r\n                }\r\n                if (counties[i].ratio < 0.94) {\r\n                    // console.log(\"smaller\", counties[i].ratio)\r\n\r\n                    // console.log(\"colorScaleSmaller(counties[i].ratio)\",colorScaleSmaller(counties[i].ratio))\r\n                    return colorScaleSmaller(counties[i].ratio)\r\n                }\r\n                if (1.05 > counties[i].ratio > 0.95) {\r\n                    // console.log(\"neutral\", counties[i].ratio)\r\n\r\n                    return colorScaleNeutral(counties[i].ratio)\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n    \r\n            <g className=\"counties\">\r\n                {\r\n                    geojson.features.map((d, i) => (\r\n                        // geographies.map((d, i) => (\r\n                        <path\r\n                            key={`path-${i}`}\r\n                            d={geoPath().projection(projection)(d)}\r\n                            className=\"county\"\r\n                            // fill={`rgba(38,50,56,${1 / geographies.length * i})`}\r\n                            // fill={myColor(i*100)}\r\n                            fill={mapIdToColor(geographies[i].properties.ID_1)}\r\n                            stroke={selected == geographies[i].properties.ID_1 ? \"rgba(0, 0, 0, 1)\" : \"rgba(0, 0, 0, 0.5)\"}\r\n                            // stroke={selected == geographies[i].properties.ID_1 ? \"rgba(0, 0, 0, 1)\" : \"rgba(24, 14, 12, 0.5)\"}\r\n                            strokeWidth={selected == geographies[i].properties.ID_1 ? 3 : 0.5}\r\n                            strokeOpacity={selected == geographies[i].properties.ID_1 ? 1 : 0.5}\r\n                            // strokeWidth={ 3}\r\n                            // onClick={() => handleCountryClick(i)}\r\n                            onClick={() => selectCounty(geographies[i].properties.ID_1)}\r\n                            onMouseOver={(event) => { mouseOver(event, geographies[i].properties) }}\r\n                            onMouseEnter={event => { mouseEnter(event, geographies[i].properties) }}\r\n                            onMouseLeave={() => mouseLeave()}\r\n                        >\r\n\r\n                        </path>\r\n                    ))\r\n                }\r\n\r\n            </g>\r\n            <g className=\"tooltip-area1\">\r\n                <text className=\"tooltip-area__text\"></text>\r\n            </g>\r\n            <g className=\"tooltip-area2\">\r\n                <text className=\"tooltip-area__text2\"></text>\r\n            </g>\r\n            <g className=\"tooltip-area3\">\r\n                <text className=\"tooltip-area__text3\"></text>\r\n            </g>\r\n            <g className=\"tooltip-area4\">\r\n                <text className=\"tooltip-area__text4\"></text>\r\n            </g>\r\n\r\n        </>\r\n    );\r\n}\r\nexport default SwedenMap\r\n","\r\n// src/components/WorldMap.js\r\n\r\nimport React, { createRef, useRef, useState, useEffect } from \"react\";\r\n// import { geoConicEquidistant, geoEqualEarth, geoPath } from \"d3-geo\";\r\n// import { select,  } from \"d3\";\r\nimport SwedenMap from \"./SwedenMap\"\r\n// import * as d3 from 'd3';\r\n// import data from '../scb_data.csv';\r\n//import Sankey from \"./SankeyContainer\"\r\nimport swedenCounties from \"../sweden-counties.json\"\r\n\r\n\r\n\r\nimport { feature } from \"topojson-client\";\r\n//import axios from 'axios';\r\n\r\n\r\nvar width = 800;\r\nvar height = 1000;\r\n\r\n//const projection = geoConicEquidistant().scale(1200).center([45, 60]);\r\n\r\nconst MapContainer = ({ selected, selectCounty, counties }) => {\r\n    const [geographies, setGeographies] = useState([])\r\n    const svgRef = createRef();\r\n    console.log(\"swedenCounties\", swedenCounties)\r\n\r\n    // console.log(\"selected in map container\",selected)\r\n    useEffect(() => {\r\n        setGeographies(feature(swedenCounties, swedenCounties.objects.SWE_adm1).features);\r\n\r\n    }, []);\r\n    // useEffect(() => {\r\n    //     fetch(swedenCounties)\r\n    //         .then(response => {\r\n    //             if (response.status !== 200) {\r\n    //                 console.log(`There was a problem: ${response.status}`)\r\n    //                 return\r\n    //             }\r\n    //             console.log(\"MapContainer fetch call\")\r\n    //             console.log(\"response JSON parser\",JSON.parse(response))\r\n    //             response.json().then(swedenData => {\r\n    //                 setGeographies(feature(swedenData, swedenData.objects.SWE_adm1).features);\r\n    //                 console.log(\"MapContainer fetch call swedenData\",swedenData)\r\n\r\n    //                 //console.log(\"swedenData1\", swedenData);\r\n    //                 // projection.fitExtent(\r\n    //                 //     [\r\n    //                 //         [0, 0],\r\n    //                 //         [width / 2, height / 2],\r\n    //                 //     ], geographies\r\n    //                 // )\r\n    //             })\r\n    //         })\r\n\r\n    // }, []);\r\n\r\n    return (\r\n        <svg ref={svgRef} width={\"90%\"} height={530} >\r\n            {geographies.length>0  &&  \r\n            <SwedenMap geographies={geographies} selectCounty={selectCounty} selected={selected} counties={counties} width={width} height={height}/> \r\n            }\r\n\r\n        </svg>\r\n\r\n\r\n    )\r\n}\r\n\r\nexport default MapContainer\r\n","\r\n// \r\n\r\nimport React, { useRef,useState, useEffect } from \"react\";\r\n//import d3Legend from \"d3-svg-legend\";\r\nimport * as d3 from 'd3';\r\nimport { legendColor } from 'd3-svg-legend';\r\n\r\nconst LinearScale = () => {\r\n    const svgRef = useRef();\r\n    useEffect(()=>{\r\n        const svg = d3.select(svgRef.current)\r\n        var linear = d3.scaleLinear()\r\n        .domain([1.40,1.00,0.60])\r\n        .range([\"rgb(255,121,0)\", \"rgb(255,255, 255)\", \"rgb(0,95,255)\"]);\r\n\r\n      svg.append(\"g\")\r\n        .attr(\"class\", \"legendLinear\")\r\n        .attr(\"transform\", \"translate(20,20)\");\r\n      \r\n      var legendLinear = legendColor()\r\n        .labelFormat(d3.format(\".2f\"))\r\n        .title(\"Ratio color\")\r\n        .titleWidth(120)\r\n        .shapeWidth(30)\r\n        .cells(11)\r\n        .orient('vertical')\r\n        .scale(linear);\r\n      \r\n      svg.select(\".legendLinear\")\r\n        .call(legendLinear);\r\n    },[])\r\n   \r\n            \r\n          \r\n    return (\r\n        <svg ref={svgRef} height={300} width={100} >\r\n           \r\n        </svg>\r\n    )\r\n}\r\n\r\nexport default LinearScale\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 0L5.83333 8.75L11.6667 0\",\n  fill: \"black\"\n});\n\nfunction SvgIconDown(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 12,\n    height: 9,\n    viewBox: \"0 0 12 9\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIconDown);\nexport default __webpack_public_path__ + \"static/media/icon-down.b35a1bdf.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M11.6667 8.75L5.83342 -5.09966e-07L8.17776e-05 8.75\",\n  fill: \"black\"\n});\n\nfunction SvgIconUp(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 12,\n    height: 9,\n    viewBox: \"0 0 12 9\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIconUp);\nexport default __webpack_public_path__ + \"static/media/icon-up.47bfe2be.svg\";\nexport { ForwardRef as ReactComponent };","\r\n// \r\n\r\nimport React, { useRef, useState, useEffect } from \"react\";\r\nimport \"./components.css\";\r\nimport { ReactComponent as DownSvg } from '../icons/icon-down.svg'\r\nimport { ReactComponent as UpSvg } from '../icons/icon-up.svg'\r\n\r\n//import d3Legend from \"d3-svg-legend\";\r\n\r\n\r\nconst DropDown = ({ selected, selectCounty }) => {\r\n    // console.log(\"Dropdown_selected,:\", selected)\r\n    const [open, setOpen] = useState(false);\r\n    const [hover, setHover] = useState(false);\r\n\r\n    const counties = [\r\n        { id: 1, name: \"Stockholms län\", },\r\n        { id: 3, name: \"Uppsala län\", },\r\n        { id: 4, name: \"Södermanlands län\", },\r\n        { id: 5, name: \"Östergötlands län\", },\r\n        { id: 6, name: \"Jönköpings län\", },\r\n        { id: 7, name: \"Kronobergs län\", },\r\n        { id: 8, name: \"Kalmar län\", },\r\n        { id: 9, name: \"Gotlands län\", },\r\n        { id: 10, name: \"Blekinge län\", },\r\n        { id: 12, name: \"Skåne län\", },\r\n        { id: 13, name: \"Hallands län\", },\r\n        { id: 14, name: \"Västra Götalands län\", },\r\n        { id: 17, name: \"Värmlands län\", },\r\n        { id: 18, name: \"Örebro län\", },\r\n        { id: 19, name: \"Västmanlands län\", },\r\n        { id: 20, name: \"Dalarnas län\", },\r\n        { id: 21, name: \"Gävleborgs län\", },\r\n        { id: 22, name: \"Västernorrlands län\", },\r\n        { id: 23, name: \"Jämtlands län\", },\r\n        { id: 24, name: \"Västerbottens län\", },\r\n        { id: 25, name: \"Norrbottens län\", },\r\n    ]\r\n\r\n    const getName = (ID) => {\r\n        // counties.filter((c) => c.id == selected)\r\n        var returnArray = []\r\n        counties.map((c) => {\r\n            if (c.id == ID) {\r\n                console.log(\"c.name\", c.name)\r\n                returnArray.push(c.name)\r\n            }\r\n        })\r\n        return returnArray[0]\r\n    }\r\n\r\n    return (\r\n        <div className=\"dropDown\">\r\n        <div className=\"dropDownContainer\" >\r\n            <div className=\"dropDownSelectionContainer\">\r\n                <span className=\"dropDownSelectedSpan\">{selected != null ? getName(selected) : \"Choose a county\"}</span>\r\n                <button className=\"dropDownButton\" onClick={() => setOpen(!open)}>\r\n                    {!open ? <DownSvg />\r\n                        : <UpSvg />\r\n                    }\r\n                </button>\r\n            </div>\r\n            {open ?\r\n\r\n                <ul className=\"dropDownUL\">{counties.map(c =>\r\n                    <li className={c.id == selected ? \"dropDownItemSelected\" : \"dropDownItem\"}\r\n\r\n                        key={c.id}\r\n                        // onMouseEnter={() => setHover(true)}\r\n                        // onMouseLeave={() => { setHover(false) }}\r\n                        onClick={() => {\r\n                            selectCounty(c.id)\r\n                            setOpen(false)\r\n                        }}\r\n                    >\r\n                        {c.name}</li>\r\n                )}\r\n\r\n                </ul> : null\r\n\r\n\r\n            }\r\n\r\n        </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default DropDown\r\n","import * as d3 from \"d3\";\r\nimport React, { useRef, useState, useEffect } from \"react\";\r\n\r\nimport { sankey, sankeyLinkHorizontal } from \"d3-sankey\"; //https://www.npmjs.com/package/d3-sankey-diagram\r\nimport \"../Sankey.css\"\r\n\r\n//assigning color for each län\r\nconst indelning = {\r\n  \"Götaland\": [\r\n    {name: \"Blekinge län\", color:\"#08007A\"}, \r\n    {name: \"Västra Götalands län\", color:\"#0B00A3\"},\r\n    {name: \"Gotlands län\", color: \"#0E00CC\"},\r\n    {name: \"Hallands län\", color:\"#1100FF\"},\r\n    {name:\"Skåne län\", color:\"#2E1FFF\"},\r\n    {name: \"Jönköpings län\", color: \"#5447FF\"},\r\n    {name: \"Kalmar län\", color:\"#7A70FF\"},\r\n    {name: \"Kronobergs län\", color: \"#A099FF\"},\r\n    {name: \"Östergötlands län\", color: \"#C6C2FF\"},\r\n  ],\r\n  \"Svealand\": [\r\n    {name: \"Uppsala län\", color:\"#CC0000\"},\r\n    {name: \"Örebro län\", color: \"#FF0A0A\"},\r\n    {name: \"Västmanlands län\", color: \"#FF4747\"},\r\n    {name:\"Södermanlands län\", color: \"#FF8585\"},\r\n    {name: \"Stockholms län\", color: \"#FF8585\"},\r\n    {name:\"Värmlands län\", color:\"#FFC2C2\"}\r\n  ],\r\n  \"Norrland\": [\r\n    {name: \"Gävleborgs län\", color: \"#005200\"},\r\n    {name: \"Jämtlands län\", color: \"#007A00\"},\r\n    {name: \"Dalarnas län\", color: \"#00A300\"},\r\n    {name: \"Västernorrlands län\", color: \"#00CC00\"},\r\n    {name: \"Västerbottens län\", color: \"#00F500\"},\r\n    {name: \"Norrbottens län\", color: \"#1FFF1F\"},\r\n  ]\r\n}\r\n\r\n//creates a node for each län\r\nconst SankeyNode = ({ name, index, x0, x1, y0, y1, color }) => (\r\n//  <rect x={x0} y={index == 20? 101: y0} width={x1 - x0} height={Math.abs(y1 - y0)}>\r\n  <rect x={x0} y={y0} width={x1 - x0} height={Math.abs(y1 - y0)}>\r\n    <title>{name} </title>\r\n  </rect> //To add color add the attribute fill i nrect\r\n);\r\n\r\n//creates the links between all läns\r\nconst SankeyLink = ({ link, color }) => (\r\n\r\n  <path\r\n    // d={sankeyLinkHorizontal()(link)}\r\n    d={sankeyLinkHorizontal()(link)}\r\n    style={{\r\n      fill: \"none\",\r\n      stroke: color,\r\n      strokeWidth: Math.max(1, link.width)\r\n    }}\r\n    >\r\n      <title>{link.source.name} {\"→\"} {link.target.name} {':'} {link.value} </title>\r\n  </path>\r\n);\r\n\r\n//create and returns the diagram\r\n\r\nconst SankeyDiagram = ({ data, width, height, direction }) => {\r\n\r\n//console.log(\"data from Sankey\", data)\r\n\r\n  const { nodes, links } = sankey()\r\n    .nodeWidth(15)\r\n    .nodePadding(10)\r\n    .extent([[1, 1], [width - 1, height - 5]])\r\n    (data);\r\n  //console.log(\"links\", links);\r\n  // const color = chroma.scale(\"Set3\").classes(nodes.length);\r\n  // const colorScale = d3\r\n  //   .scaleLinear()\r\n  //   .domain([0, nodes.length])\r\n  //   .range([0, 1]);\r\n\r\n  //assigns the different links a color depenting on the county\r\n  const giveColor = (link) => {\r\n    var color\r\n    if (direction == \"in\") {\r\n      // console.log(\"--------in-------\")\r\n      for (const prop in indelning) {\r\n        indelning[prop].forEach((county) => {\r\n          if (county.name == link.source.name) {\r\n            // console.log(\"i if-satsen\", typeof county.color)\r\n            color = county.color\r\n          }\r\n        })\r\n      }\r\n    }\r\n    else if (direction == \"out\") {\r\n      // console.log(\"------out-------\")\r\n      for (const prop in indelning) {\r\n        indelning[prop].forEach((county) => {\r\n          if (county.name == link.target.name) {\r\n            // console.log(\"i if-satsen\", typeof county.color)\r\n            color = county.color\r\n          }\r\n        })\r\n      }\r\n    }\r\n    else {\r\n      // console.log(\"----nothing-----\")\r\n      color = \"blue\"\r\n    }\r\n    return color\r\n  }\r\n\r\n  return (\r\n    <g style={{ mixBlendMode: \"multiply\" }}>\r\n      {nodes.map((node, i) => (\r\n        <SankeyNode\r\n          {...node}\r\n          {...i}\r\n          // color={(colorScale(i)).hex()}\r\n          key={direction === \"out\" ? `${node.name}-out` : `${node.name}-in`}\r\n        />\r\n      ))}\r\n      {links.map((link, i) => (\r\n        //console.log(\"in return:\", giveColor(link.source)),\r\n        <SankeyLink\r\n          link={link}\r\n          key={direction === \"out\" ? `${link.index}-out` : `${link.index}-in`}\r\n          color={giveColor(link)}\r\n        // color={(colorScale(link.source.index)).hex()}\r\n        />\r\n      ))}\r\n    </g>\r\n  );\r\n};\r\n\r\nexport default SankeyDiagram;\r\n","//import React from \"react\";\r\nimport SankeyDiagram from \"./Sankey\";\r\nimport React, { useRef, useState, useEffect } from \"react\";\r\n//import { geoConicEquidistant, geoEqualEarth, geoPath } from \"d3-geo\";\r\n//import * as d3 from 'd3';\r\n\r\nconst SankeyContainer = ({ counties, selected, year }) => {\r\n    const [nodesArray, setNodesArray] = useState([])\r\n    const [linksArray, setLinksArray] = useState([])\r\n\r\n\r\n    console.log(\" SankeyContainer counties_____\",counties)\r\n    // const [width, setWidth] = useState(700)\r\n    // const [height, setHeight] = useState(700)\r\n    //const [dim, setDim] = useState({})\r\n    const [width, setWidth] = useState(400)\r\n    const [height, setHeight] = useState(400)\r\n\r\n    const svgRef = React.createRef();\r\n    // console.log(\"SankeyContainer counties in\", counties)\r\n    // console.log(\"SankeyContainer counties\", counties)\r\n    // console.log(\"structuredData\",structuredData)\r\n\r\n    // console.log(\"VVVVVVV counties in SANKEY IN\", counties)\r\n\r\n\r\n    useEffect(() => {\r\n\r\n        const getIndex = (ID) => {\r\n            var countyIndexArr = []\r\n            counties.map((c, i) => {\r\n                if (c.id == ID) {\r\n                    countyIndexArr.push(i)\r\n                }\r\n            })\r\n            return countyIndexArr[0]\r\n        }\r\n        // console.log(\"counties in useEffect\",counties)\r\n        formatData(counties[getIndex(selected)])\r\n    }, [counties, selected])\r\n    // const measureSVG = () => {\r\n    //     const { width, height } = svgRef.current.getBoundingClientRect();\r\n\r\n    //     setWidth(width);\r\n    //     setHeight(height);\r\n    // }\r\n    const formatData = (counties) => {\r\n\r\n        //create all the nodes and links\r\n        //console.log(\">>>>>>>>>>>>>>>>>>>>>>>>>>>>nodesArray in SankeyContainer\",nodesArray)\r\n        var nodesToBe = []\r\n        var linksToBe = []\r\n\r\n        //adding all the counties as node target \r\n        //example: \"nodes\": [ {name: \"Uppsala län\"},{name: \"Södermanlands län\"},{name: \"Östergötlands län\"},]\r\n        for (var i in counties.inflyttLän) {\r\n            nodesToBe.push({ \"name\": counties.inflyttLän[i] })\r\n        }\r\n        // console.log(\"nodestobe\", nodesToBe)\r\n\r\n\r\n        for (var j in counties.inflytt) {\r\n            // console.log(\"j\",j);\r\n            linksToBe.push({ \"source\": parseInt(j), \"target\": counties.inflytt.length, \"value\": counties.inflytt[j] })\r\n            // linksToBe.push({ \"source\": parseInt(j), \"target\": counties.inflytt.length - 1, \"value\": counties.inflytt[j] })\r\n        }\r\n        //console.log(\"linksToBe\", linksToBe)\r\n\r\n        //adding the \"target\" counties to the last array. (THIS is used to target the links towards)\r\n        nodesToBe.push({ \"name\": counties.name })\r\n\r\n        setNodesArray(nodesToBe)\r\n        setLinksArray(linksToBe)\r\n        // setData({\r\n        //     \"nodes\":\r\n        //         nodesToBe \r\n        //     ,\r\n        //     \"links\":\r\n        //         linksToBe ,\r\n        // })\r\n    }\r\n\r\n    return (\r\n        <div>\r\n        <svg width=\"50%\" height=\"500\" ref={svgRef}>\r\n            {nodesArray.length > 0 && <SankeyDiagram direction=\"in\" data={{ \"nodes\": nodesArray, \"links\": linksArray }} width={width} height={height} />}\r\n    \r\n            {nodesArray.length > 0 && <text x=\"0\" y=\"-30\" fill=\"black\">Immigration to {nodesArray[20].name} {year}</text>}\r\n        </svg>\r\n        <div className=\"countyinfo\"> \r\n\r\n            The Sankey diagrams displays the full details of immigration and emigration respectively.\r\n\r\n            The width of each link in the Sankey Diagrams represent the share of the total immigration/emigration to/from the selected county.\r\n\r\n            <p>The different counties in the Sankeys are colored dependent on which part of Sweden they belong to; <br></br><text className=\"green\">green</text> = <text className=\"green\">Norrland </text>(the northern most part of Sweden) <br></br><text className=\"purple\">purple</text> = <text className=\"purple\">Götaland </text>(the middle part of Sweden)\r\n            <br></br> <text className=\"red\">red</text> = <text className=\"red\">Svealand </text>(the most southern part of Sweden)\r\n            </p> \r\n        </div>\r\n        </div>\r\n    );\r\n\r\n}\r\n\r\nexport default SankeyContainer;","//import React from \"react\";\r\nimport SankeyDiagram from \"./Sankey\";\r\nimport React, { useRef, useState, useEffect } from \"react\";\r\n//import { geoConicEquidistant, geoEqualEarth, geoPath } from \"d3-geo\";\r\n//import * as d3 from 'd3';\r\n\r\n\r\nconst SankeyContainerOut = ({ counties, selected, year }) => {\r\n    const [nodesArray, setNodesArray] = useState([])\r\n    const [linksArray, setLinksArray] = useState([])\r\n    const [width, setWidth] = useState(400)\r\n    const [height, setHeight] = useState(400)\r\n    //const [dim, setDim] = useState({})\r\n\r\n    const svgRef = React.createRef();\r\n    \r\n    useEffect(() => {\r\n\r\n        const getIndex = (ID) => {\r\n            var countyIndexArr = []\r\n            counties.map((c, i) => {\r\n                if (c.id == ID) {\r\n                    countyIndexArr.push(i)\r\n                }\r\n            })\r\n            return countyIndexArr[0]\r\n        }\r\n        // console.log(\"counties in useEffect\",counties)\r\n        formatData(counties[getIndex(selected)])\r\n    }, [counties,selected])\r\n    // const measureSVG = () => {\r\n    //     const { width, height } = svgRef.current.getBoundingClientRect();\r\n\r\n    //     setWidth(width);\r\n    //     setHeight(height);\r\n    // }\r\n    const formatData = (counties) => {\r\n        \r\n\r\n        //create all the nodes and links\r\n        \r\n        var nodesToBe = []\r\n        var linksToBe = []\r\n        \r\n        //adding all the counties as node target \r\n        //example: \"nodes\": [ {name: \"Uppsala län\"},{name: \"Södermanlands län\"},{name: \"Östergötlands län\"},]\r\n        for (var i in counties.utflyttLän) {\r\n            nodesToBe.push({ \"name\": counties.utflyttLän[i] })\r\n        }\r\n        // console.log(\"nodestobe\", nodesToBe)\r\n\r\n\r\n        for (var j in counties.utflytt) {\r\n            // console.log(\"j\",j);\r\n            linksToBe.push({ \"source\": counties.utflytt.length, \"target\":parseInt(j), \"value\": counties.utflytt[j] })\r\n            // linksToBe.push({ \"source\": parseInt(j), \"target\": counties.inflytt.length - 1, \"value\": counties.inflytt[j] })\r\n        }\r\n        //console.log(\"linksToBe\", linksToBe)\r\n\r\n        //adding the \"target\" county to the last array. (THIS is used to target the links towards)\r\n        nodesToBe.push({ \"name\": counties.name })\r\n\r\n       \r\n        setNodesArray(nodesToBe)\r\n        setLinksArray(linksToBe)\r\n        //console.log(\"structuredData.nodes formatdata\",structuredData)\r\n\r\n    }\r\n    // formatData(counties);\r\n    \r\n    // useEffect(() => {\r\n    //     console.log(\"counties in useffect\",counties)\r\n    //     formatData(counties)\r\n\r\n    //     // measureSVG()\r\n    //     // window.addEventListener(\"resize\", measureSVG)\r\n    //     // return () => {\r\n    //     //     console.log()\r\n    //     //     window.removeEventListener(\"resize\", measureSVG)\r\n    //     // }\r\n\r\n    // },[])\r\n\r\n  \r\n\r\n\r\n    return (\r\n      \r\n        <svg width=\"50%\" height=\"500\" ref={svgRef}>\r\n            {nodesArray.length > 0 && <SankeyDiagram direction=\"out\" data={{ \"nodes\": nodesArray, \"links\": linksArray }} width={width} height={height} />}\r\n           \r\n            {nodesArray.length > 0 && <text x=\"0\" y=\"-30\" fill=\"black\">Emigration from {nodesArray[20].name} {year}</text>}\r\n        </svg>\r\n    );\r\n\r\n\r\n}\r\n\r\nexport default SankeyContainerOut;","export default __webpack_public_path__ + \"static/media/01.cb65d9f0.csv\";","import React, { useState, useEffect } from \"react\";\r\nimport * as d3 from \"d3\";\r\nimport { csv } from 'd3-fetch';\r\nimport url from './../01.csv';\r\n\r\nfunction Explanation({ show, setShow }) {\r\n\r\n    return (\r\n        <div className=\"modal\" onClick={() => setShow(false)}>\r\n            <div className=\"modal-content\">\r\n                <p onClick={() => setShow(false)} className=\"close\">X</p>\r\n                <h2>Filter options</h2>\r\n                    You can filter on <b>gender</b>, <b>year</b> and <b>county</b>.\r\n                    <h2>Map</h2>\r\n                        The <b>map</b> displays the ratio of migration to each\r\n                        county. If the immigration to a county is bigger than\r\n                        the emigration, the county is colored in an <text className=\"orange\">orange</text> hue, if not,\r\n                        it is colored in a <text className=\"blue\">blue</text> hue.\r\n                        <p>\r\n                    <b>Hover</b> over a county to get some details.\r\n                        </p>\r\n                <p>\r\n                    <b>Click</b> on a county to get full details.\r\n                        </p>\r\n                <h2>Sankey diagram</h2>\r\n                    The <b>Sankey</b> displays the full details of the immigration and emigration\r\n                    to and from a county.\r\n                    <p>The different counties in the Sankey are colored dependent on which part of Sweden\r\n                        they belong to; <br></br><text className=\"green\">green</text> = <text className=\"green\">Norrland</text>, <br></br><text className=\"purple\">purple</text> = <text className=\"purple\">Götaland</text>\r\n                    <br></br> <text className=\"red\">red</text> = <text className=\"red\">Svealand</text>\r\n                    </p>\r\n                <p><b>Hover</b> over a county in the Sankey to get the full details of emigration or immigration.</p>\r\n                <p>\r\n                    <h3>Calculation of ratio</h3> \r\n                <b>Ratio</b>=<b>Immigration</b>/<b>Emigration</b> - a measure of people moving in and out </p> \r\n            </div>\r\n\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default Explanation;","export default __webpack_public_path__ + \"static/media/logo3.dd08bc44.png\";","export default __webpack_public_path__ + \"static/media/moa.481f3d39.png\";","export default __webpack_public_path__ + \"static/media/albin.c0779bdc.png\";","export default __webpack_public_path__ + \"static/media/amalia.b22d8f37.png\";","export default __webpack_public_path__ + \"static/media/hilda.85d0fd1b.png\";","export default __webpack_public_path__ + \"static/media/popflo1.1dfc3820.mp4\";","export default __webpack_public_path__ + \"static/media/map.b1ab6641.png\";","import React, { useState, useEffect } from \"react\";\r\nimport logo from './logo3.png'\r\nimport moa from './images/moa.png'\r\nimport albin from './images/albin.png'\r\nimport amalia from './images/amalia.png'\r\nimport hilda from './images/hilda.png'\r\nimport map from './images/map.png'\r\nimport video from './images/popflo1.mp4'\r\n\r\nclass About extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            selectedPerson: undefined,\r\n            detailsPerson: undefined,\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div>\r\n                <div className=\"aboutcontainer\">\r\n                    <div className=\"aboutblock\">\r\n                    <h3>Hi and welcome to POP.FLO!</h3>\r\n                            <p>POP.FLO is a tool that gives you the possibility to\r\n                                visualize migration patterns between Swedish counties, \"län\".\r\n                            </p>\r\n                            <p>We got this idea while reading about Corona driving people to move\r\n                            from the cities to smaller municipalities. We asked ourselves: has there\r\n                            been any other interesting moving patterns in Sweden during the last couple of years?\r\n                            </p>\r\n                            <p>Sweden has 21 counties - which shouldn't be mixed up\r\n                                with the Swedish provinces, \"landskap\", of which there are 25. The counties have political\r\n                                and admininistrative powers, the provinces have not. \r\n                            </p>\r\n                            <p>The <a href=\"https://www.statistikdatabasen.scb.se/pxweb/sv/ssd/START__BE__BE0101__BE0101J/InOmflytt/\">data</a> comes from the Swedish Central Bureau of Statistics, and the visualization\r\n                                is built mainly with D3.js, Javascript, CSS and React. The source code on Github can be found <a href=\"https://github.com/agyllang/DH2321-POP.FLO\">here</a>. \r\n                            </p>\r\n                            <p>We've taken inspiration from many projects, such as the master thesis and project on visualizing migration to Sweden by <a href=\"https://people.kth.se/~cjba/thesis/#\">Carl-Johan Backman</a>, as well as\r\n                                the project <a href=\"https://fstal.github.io/jobVis/\">JobVis</a>, <a href=\"https://doi.org/10.1016/j.heliyon.2020.e05490\">Stuart Gietel-Bastens work</a> on Circular visualization of historical migration in England in the 18th century and <a href=\"https://www.researchgate.net/publication/333765430_A_Classification_and_Data_Visualization_Tool_Applied_to_Human_Migration_Analysis\">David Dominguez et al.s tool</a> for classification and visualization applied on human migration analysis. \r\n                            </p>\r\n\r\n                    </div>\r\n                    <div className=\"videocontainer\"><video width=\"640\" height=\"360\" controls src={video}>Your browser does not support the video tag.</video></div>\r\n                </div>\r\n                <div className=\"aboutcontainer\">\r\n                    <div className=\"photocontainer\">\r\n                        <div className=\"photorow\">\r\n                        <img id=\"albin\" className={this.state.detailsPerson == \"Albin\" || this.state.detailsPerson == undefined ?\"profilephoto\":\"photohide\"} src={albin} onMouseEnter={() => this.setState({selectedPerson: \"Albin\"})} onClick={() => this.setState({detailsPerson: \"Albin\"})} onMouseOut={() => this.setState({selectedPerson: undefined})}></img>\r\n                            <img id=\"amalia\" className={this.state.detailsPerson == \"Amalia\" || this.state.detailsPerson == undefined ?\"profilephoto\":\"photohide\"} src={amalia} onMouseEnter={() => this.setState({selectedPerson: \"Amalia\"})} onClick={() => this.setState({detailsPerson: \"Amalia\"})} onMouseOut={() => this.setState({selectedPerson: undefined})}></img>\r\n                        </div>\r\n                        <div className=\"photorow\">\r\n                            <img id=\"hilda\" className={this.state.detailsPerson == \"Hilda\" || this.state.detailsPerson == undefined ?\"profilephoto\":\"photohide\"} src={hilda} onMouseEnter={() => this.setState({selectedPerson: \"Hilda\"})} onClick={() => this.setState({detailsPerson: \"Hilda\"})} onMouseOut={() => this.setState({selectedPerson: undefined})}></img>\r\n                            <img id=\"moa\" className={this.state.detailsPerson == \"Moa\" || this.state.detailsPerson == undefined ?\"profilephoto\":\"photohide\"} src={moa} onMouseEnter={() => this.setState({selectedPerson: \"Moa\"})} onClick={() => this.setState({detailsPerson: \"Moa\"})} onMouseOut={() => this.setState({selectedPerson: undefined})}></img>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"aboutblock\">\r\n                    {this.state.detailsPerson == \"Amalia\"? \r\n                    <div>\r\n                        <p onClick={() => this.setState({detailsPerson: undefined, selectedPerson:undefined})} className=\"close\">X</p>\r\n                            <p>\r\n                            Hi! \r\n                            I'm Amalia and I've been mainly responsible for the UX in this project.\r\n                            I've user tested our product, as well as had the user in mind through the process\r\n                            of creating this webpage! That is, adding visual mappings and structures that can help and\r\n                            guide the user, such as graphical properties such as colors. I've also done some \r\n                            front-end, such as this About us-page (building elements and creating the content), \r\n                            and also been responsible for the routing and information parts of the website.\r\n                            <p>Email me at aberglof@kth.se, or at <a href=\"www.linkedin.com/in/amalia-berglof\">LinkedIn</a>!</p>\r\n                            </p>\r\n                    </div> :\r\n                            (\r\n                                this.state.detailsPerson == \"Albin\" ? \r\n                                <div>\r\n                                    <p onClick={() => this.setState({detailsPerson: undefined, selectedPerson:undefined})} className=\"close\">X</p>\r\n                                    <p>Hello! My name is Albin. I have been working alot with the map visualization, our vision about the map demanded deeper knowledge about the D3.js library and especially the sub-library D3-geo which I have delved into.\r\n                                      I have also spent alot of time figuring out state-handling React related issues. Apart from code-related learnings, I have updated my Swedish geography skills, something 10 year old Albin would be very proud of.\r\n                                     I really like our group dynamic! Working with these guys has been very rewarding.\r\n                                 \r\n                                        <p><a href=\"https://www.linkedin.com/in/albin-matson-gyllang-535486104/\">LinkedIn</a></p></p>\r\n                                </div>:\r\n                                (\r\n                                this.state.detailsPerson == \"Hilda\" ? \r\n                                <div>\r\n                                    <p onClick={() => this.setState({detailsPerson: undefined, selectedPerson:undefined})} className=\"close\">X</p>\r\n                                    <p>\r\n                                        Hi! My name is Hilda and I have worked a lot with the data, and how we map it to the different visual \r\n                                        structures. I have also worked with how the data is filtered by gender (radiobuttons) and year (slider) for each county. I \r\n                                        really enjoyed working on this project!\r\n                                        <p>Contact me! hildar@kth.se, <a href=\"https://www.linkedin.com/in/hilda-robertsson-7a3b1816b\">LinkedIn</a></p>\r\n                                    </p>\r\n                                </div>:\r\n                                (\r\n                                    this.state.detailsPerson== \"Moa\" ? \r\n                                    <div>\r\n                                        <p onClick={() => this.setState({detailsPerson: undefined, selectedPerson:undefined})} className=\"close\">X</p>\r\n                                        <p>Hej! \r\n                                            <br></br>My name is Moa and in this project I've manily been working with front-end related work.\r\n                                            <br></br>I've worked with D3.js to do the implementation of the sankey diagram, as well as making sure the data can be configured with the sankey. \r\n                                            Smaller visualisation components like labels and the selected county info box has been part of my work too.\r\n                                            <br></br>In addition to the coding, we have worked very tight in the group - which I have found very inspiring and rewarding! \r\n                                        <p>Want to get in touch? Send an email to moaeng@kth.se or my <a href=\"https://www.linkedin.com/in/moa-engquist-242135163/\">Linkedin profile</a></p></p>\r\n                                    </div>:\r\n                                \r\n                                    <div>\r\n                                        <h3>We are the group behind POP.FLO!</h3>\r\n                                        <p>\r\n                                            {this.state.selectedPerson== \"Albin\" ? <b> Albin Matson Gyllang</b>:' Albin Matson Gyllang'}, \r\n                                            {this.state.selectedPerson== \"Amalia\"? <b> Amalia Berglöf</b>:' Amalia Berglöf'}, \r\n                                            {this.state.selectedPerson== \"Hilda\"? <b> Hilda Robertsson</b>:' Hilda Robertsson'} and  \r\n                                            {this.state.selectedPerson== \"Moa\"? <b> Moa Engquist</b>:' Moa Engquist'}.\r\n                                            We built this tool as our final project in our course in Information Visualization <a href=\"https://www.kth.se/student/kurser/kurs/DH2321\">DH2321</a> at KTH.</p>\r\n                                        <p>Our goal was to visualize movement in a simple, yet interesting way! We wanted to\r\n                                            keep the simpleness and readability of a map, while adding visualizations to\r\n                                            help interpret the data. It's up to you if we succeeded of course. \r\n                                        </p>\r\n                                        <p>\r\n                                        You want to get in touch with us? Click on one of us to\r\n                                        get to know them better, and get the contact details!\r\n                                        </p>\r\n                                        <h3>Learnings</h3>\r\n                                        <p>In this project we have collaborated as a group, designing this project,\r\n                                            totally remotely. That has been a challenge sometimes, but also something that\r\n                                            is very helpful for future work! We've learned how to transform data interactively,\r\n                                            do visual mappings and view transformations while building this webpage. We have\r\n                                            had the opportunity to present, defend and get feedback on our project many times during the process. We \r\n                                            have developed the project in the way that we see fit towards the objectives of the course,\r\n                                            and from what we've learned from analyzing similar related work. Due to Corona, the opportunities\r\n                                            for doing user evaluation has been limited. Here we have taken help from those close to us, thank you for your help!\r\n                                        </p>\r\n                                        <p>\r\n                                            More specifically, we've learned more about working with external\r\n                                            libraries such as D3.js, as well as how to work with interactive queries\r\n                                            to back-end; and how important it is to structure data wisely! We have\r\n                                            all developed further skills in web development in Javascript, HTML and CSS.\r\n                                        </p>\r\n                                </div>\r\n                                ))\r\n                            )}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default About;","import React from 'react';\r\nimport \"../App.css\";\r\n\r\nconst RadioButtons = ({radioGender, radioSelectedGender}) => {\r\n\r\n    return (\r\n        <div id=\"genderButton\"\r\n            /* value = {radioGender} */\r\n            onChange={e => radioSelectedGender(e.target.value)}>  \r\n            <input type=\"radio\" name=\"gender\" value=\"all\" checked = {radioGender === \"all\"} /> \r\n            <label>All</label>\r\n            <br/>\r\n            <input type=\"radio\" name=\"gender\" value=\"kvinnor\" checked = {radioGender === \"kvinnor\"}/>\r\n            <label>Female</label> \r\n            <br/>\r\n            <input type=\"radio\" name=\"gender\" value=\"män\" checked = {radioGender === \"män\"}/>\r\n            <label>Male</label>\r\n            {console.log(\"radioGender\", radioGender)}     \r\n        </div>\r\n    );\r\n}\r\n\r\nexport default RadioButtons","import React, { useRef,useState, useEffect } from \"react\";\r\n//import {RangeStepInput} from 'react-range-step-input';\r\nimport \"../App.css\";\r\nimport StepRangeSlider from 'react-step-range-slider'\r\n\r\nconst Slider = ({sliderYear, sliderSelectedYear}) => {\r\n\r\n    const range = [\r\n        { value: 2000, step: 1 }, //min\r\n        { value: 2019 } //max\r\n      ]\r\n\r\n    return ( \r\n        <div className=\"addMargin\">\r\n           {/* <div className=\"centeredSliderValue\">{sliderYear}</div> */}\r\n            2000\r\n            {/* <RangeStepInput \r\n                min={2000} max={2019}\r\n                value={sliderYear} step={1}\r\n                onChange={e => sliderSelectedYear(parseInt(e.target.value))} */}\r\n             <div className=\"StepSlider\">   \r\n            <StepRangeSlider \r\n                value={sliderYear}\r\n                range={range}\r\n                onChange={value => sliderSelectedYear(parseInt(value))}\r\n                />\r\n                </div>\r\n            2019\r\n        </div>\r\n    );\r\n}; \r\n\r\nexport default Slider \r\n","const SelectedCountyInfoBox = ({counties, selectedCounty}) => {\r\n\r\n    var immigration\r\n    var emigration\r\n    var netto\r\n    var ratio\r\n\r\n    for (var i in counties) {\r\n        //console.log(\"först är vi här\", counties)\r\n        //console.log(\"sen här\", selectedCounty)\r\n        if (counties[i].id == selectedCounty) {\r\n            immigration = counties[i].in\r\n            console.log(\"----------------\", immigration)\r\n            emigration = counties[i].out\r\n            netto = counties[i].netto\r\n            console.log(\"ratio\",(counties[i].ratio.toFixed(2)))\r\n            ratio =(counties[i].ratio.toFixed(2))\r\n        \r\n\r\n        }\r\n    }\r\n\r\n    return (\r\n    <div>{ratio >= 100? <div><b>Migration ratio:</b> {ratio} (more people are moving in than out).</div>:<div><b>Migration ratio:</b> {ratio} (more people are moving out than in).</div>}\r\n    <div><b>Immigration:</b> {immigration}, <b>Emigration:</b> {emigration}, <b>Netto:</b> {netto} <i>(in-out)</i></div> </div>\r\n  )\r\n}\r\n\r\n\r\nexport default SelectedCountyInfoBox;\r\n","export default __webpack_public_path__ + \"static/media/scb_data.1ca51717.csv\";","import React, { useState, useEffect } from \"react\"\r\nimport { Route, Link, BrowserRouter as Router, Switch } from 'react-router-dom'\r\nimport * as d3 from 'd3';\r\n\r\nimport MapContainer from \"./components/MapContainer\";\r\nimport LinearScale from \"./components/LinearScale\";\r\nimport DropDown from \"./components/DropDown\"\r\nimport SankeyContainer from \"./components/SankeyContainer\"\r\nimport SankeyContainerOut from \"./components/SankeyContainerOut\"\r\nimport Explanation from \"./components/explanation\"\r\nimport About from \"./components/about\";\r\nimport RadioButtons from './components/RadioButtons';\r\nimport Slider from './components/Slider';\r\nimport SelectedCountyInfoBox from './components/SelectedCountyInfoBox'\r\n\r\nimport logo from './components/logo3.png'\r\nimport data from './scb_data.csv';\r\n\r\nimport \"./App.css\"\r\n\r\n\r\nfunction App() {\r\n\r\n  const emptyCounties = [\r\n    { id: \"01\", name: \"Stockholms län\", in: 0, out: 0, netto: 0, inflytt: [], utflytt: [], inflyttLän: [], utflyttLän: [] },\r\n    { id: \"03\", name: \"Uppsala län\", in: 0, out: 0, netto: 0, inflytt: [], utflytt: [], inflyttLän: [], utflyttLän: [] },\r\n    { id: \"04\", name: \"Södermanlands län\", in: 0, out: 0, netto: 0, inflytt: [], utflytt: [], inflyttLän: [], utflyttLän: [] },\r\n    { id: \"05\", name: \"Östergötlands län\", in: 0, out: 0, netto: 0, inflytt: [], utflytt: [], inflyttLän: [], utflyttLän: [] },\r\n    { id: \"06\", name: \"Jönköpings län\", in: 0, out: 0, netto: 0, inflytt: [], utflytt: [], inflyttLän: [], utflyttLän: [] },\r\n    { id: \"07\", name: \"Kronobergs län\", in: 0, out: 0, netto: 0, inflytt: [], utflytt: [], inflyttLän: [], utflyttLän: [] },\r\n    { id: \"08\", name: \"Kalmar län\", in: 0, out: 0, netto: 0, inflytt: [], utflytt: [], inflyttLän: [], utflyttLän: [] },\r\n    { id: \"09\", name: \"Gotlands län\", in: 0, out: 0, netto: 0, inflytt: [], utflytt: [], inflyttLän: [], utflyttLän: [] },\r\n    { id: \"10\", name: \"Blekinge län\", in: 0, out: 0, netto: 0, inflytt: [], utflytt: [], inflyttLän: [], utflyttLän: [] },\r\n    { id: \"12\", name: \"Skåne län\", in: 0, out: 0, netto: 0, inflytt: [], utflytt: [], inflyttLän: [], utflyttLän: [] },\r\n    { id: \"13\", name: \"Hallands län\", in: 0, out: 0, netto: 0, inflytt: [], utflytt: [], inflyttLän: [], utflyttLän: [] },\r\n    { id: \"14\", name: \"Västra Götalands län\", in: 0, out: 0, netto: 0, inflytt: [], utflytt: [], inflyttLän: [], utflyttLän: [] },\r\n    { id: \"17\", name: \"Värmlands län\", in: 0, out: 0, netto: 0, inflytt: [], utflytt: [], inflyttLän: [], utflyttLän: [] },\r\n    { id: \"18\", name: \"Örebro län\", in: 0, out: 0, netto: 0, inflytt: [], utflytt: [], inflyttLän: [], utflyttLän: [] },\r\n    { id: \"19\", name: \"Västmanlands län\", in: 0, out: 0, netto: 0, inflytt: [], utflytt: [], inflyttLän: [], utflyttLän: [] },\r\n    { id: \"20\", name: \"Dalarnas län\", in: 0, out: 0, netto: 0, inflytt: [], utflytt: [], inflyttLän: [], utflyttLän: [] },\r\n    { id: \"21\", name: \"Gävleborgs län\", in: 0, out: 0, netto: 0, inflytt: [], utflytt: [], inflyttLän: [], utflyttLän: [] },\r\n    { id: \"22\", name: \"Västernorrlands län\", in: 0, out: 0, netto: 0, inflytt: [], utflytt: [], inflyttLän: [], utflyttLän: [] },\r\n    { id: \"23\", name: \"Jämtlands län\", in: 0, out: 0, netto: 0, inflytt: [], utflytt: [], inflyttLän: [], utflyttLän: [] },\r\n    { id: \"24\", name: \"Västerbottens län\", in: 0, out: 0, netto: 0, inflytt: [], utflytt: [], inflyttLän: [], utflyttLän: [] },\r\n    { id: \"25\", name: \"Norrbottens län\", in: 0, out: 0, netto: 0, inflytt: [], utflytt: [], inflyttLän: [], utflyttLän: [] },\r\n  ]\r\n  const [selectedCounty, setSelectedCounty] = useState(null);\r\n  // console.log(\"SELECTED COUNTY IN APP.JS: \", selectedCounty)\r\n  const [show, setShow] = useState(false);\r\n\r\n  const [year, setYear] = useState(2019);\r\n  console.log(\"YEAR\", year)\r\n\r\n  const [gender, setGender] = useState(\"all\"); //all, kvinnor, män\r\n\r\n  const [counties, setCounties] = useState([]);\r\n\r\n  const getName = (ID) => {\r\n    // counties.filter((c) => c.id == selected)\r\n    var returnArray = []\r\n    emptyCounties.map((c) => {\r\n      if (c.id == ID) {\r\n        // console.log(\"c.name\", c.name)\r\n        returnArray.push(c.name)\r\n      }\r\n    })\r\n    return returnArray[0]\r\n  }\r\n\r\n\r\n  useEffect(() => {\r\n    function GetData() {\r\n      var updatedCounties = JSON.parse(JSON.stringify(emptyCounties));\r\n      d3.csv(data).then(function (data) {\r\n\r\n        data.forEach(d => {\r\n          for (var i in updatedCounties) {\r\n            d.Inflyttningslän = d.Inflyttningslän.replace(/[0-9]/g, '');\r\n            d.Inflyttningslän = d.Inflyttningslän.replace(' (Inflyttningslän)', '');\r\n            d.Inflyttningslän = d.Inflyttningslän.trim();\r\n            d.Utflyttningslän = d.Utflyttningslän.replace(' (Utflyttningslän)', '');\r\n            d.Utflyttningslän = d.Utflyttningslän.trim();\r\n\r\n            if (gender == \"all\") {\r\n\r\n              /* if (d.Inflyttningslän == updatedCounties[i].name && d.kön == \"kvinnor\" || d.Inflyttningslän == updatedCounties[i].name && d.kön == \"män\") { */\r\n              /*  if (d.Inflyttningslän == updatedCounties[i].name) {\r\n                 updatedCounties[i].inflytt.push(Number(d[year]));\r\n                 updatedCounties[i].inflyttLän.push(d.Utflyttningslän);\r\n               }\r\n \r\n               if (d.Utflyttningslän == updatedCounties[i].name) {\r\n                 updatedCounties[i].utflytt.push(Number(d[year]));\r\n                 updatedCounties[i].utflyttLän.push(d.Inflyttningslän);\r\n               } */\r\n\r\n              if (d.Inflyttningslän == updatedCounties[i].name && d.kön == \"män\") {\r\n                updatedCounties[i].inflytt.push(Number(d[year]));\r\n                updatedCounties[i].inflyttLän.push(d.Utflyttningslän);\r\n              }\r\n\r\n              if (d.Inflyttningslän == updatedCounties[i].name && d.kön == \"kvinnor\") {\r\n                updatedCounties[i].inflytt[updatedCounties[i].inflytt.length - 1] += Number(d[year]);\r\n              }\r\n\r\n              if (d.Utflyttningslän == updatedCounties[i].name && d.kön == \"män\") {\r\n                updatedCounties[i].utflytt.push(Number(d[year]));\r\n                updatedCounties[i].utflyttLän.push(d.Inflyttningslän);\r\n              }\r\n\r\n              if (d.Utflyttningslän == updatedCounties[i].name && d.kön == \"kvinnor\") {\r\n                updatedCounties[i].utflytt[updatedCounties[i].utflytt.length - 1] += Number(d[year]);\r\n              }\r\n\r\n            }\r\n            // gender = kvinnor or män\r\n            else {\r\n              if (d.Inflyttningslän == updatedCounties[i].name && d.kön == gender) {\r\n                updatedCounties[i].inflytt.push(Number(d[year]));\r\n                updatedCounties[i].inflyttLän.push(d.Utflyttningslän);\r\n              }\r\n\r\n              if (d.Utflyttningslän == updatedCounties[i].name && d.kön == gender) {\r\n                updatedCounties[i].utflytt.push(Number(d[year]));\r\n                updatedCounties[i].utflyttLän.push(d.Inflyttningslän);\r\n              }\r\n            }\r\n          }\r\n        });\r\n        for (var j in updatedCounties) {\r\n          updatedCounties[j].in = updatedCounties[j].inflytt.reduce((partial_sum, a) => partial_sum + a, 0);\r\n          updatedCounties[j].out = updatedCounties[j].utflytt.reduce((partial_sum, a) => partial_sum + a, 0);\r\n          updatedCounties[j].netto = updatedCounties[j].in - updatedCounties[j].out;\r\n          updatedCounties[j].ratio = updatedCounties[j].in / updatedCounties[j].out;\r\n        }\r\n\r\n        return updatedCounties\r\n\r\n\r\n      }).then(result => { setCounties([...result]) });\r\n\r\n    }\r\n    GetData()\r\n\r\n  }, [year, gender])\r\n\r\n  return (\r\n    <Router>\r\n      <div className=\"navbar\">\r\n        <Link to=\"/DH2321-POP.FLO\"><img className=\"logo\" src={logo}></img></Link>\r\n        <div className=\"navbuttons\">\r\n          <button className=\"navbutton\" onClick={() => setShow(true)}>How to use</button>\r\n          <Link to=\"/DH2321-POP.FLO/about\"><button className=\"navbutton\">About us & POP.FLO</button></Link>\r\n        </div>\r\n        {show == true ? <Explanation show={show} setShow={showval => setShow(showval)} /> : <div></div>}\r\n      </div>\r\n      <Switch>\r\n        <Route exact path=\"/DH2321-POP.FLO\" render={() =>\r\n          <div className=\"App\">\r\n            <div className=\"topContainer\">\r\n              <div className=\"selection-container\">\r\n                <table>\r\n                  <thead>\r\n                    <tr>\r\n                      <th scope=\"col\"></th>\r\n                      <th scope=\"col\">County</th>\r\n                      <th scope=\"col\">Gender</th>\r\n                      <th scope=\"col\">Year</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    <tr>\r\n                      <th scope=\"row\"></th>\r\n                      <td><DropDown selected={selectedCounty} selectCounty={county => setSelectedCounty(county)} /></td>\r\n                      <td><RadioButtons radioGender={gender} radioSelectedGender={g => setGender(g)} /></td>\r\n                      <td><Slider sliderYear={year} sliderSelectedYear={y => setYear(y)} /></td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n              {selectedCounty && counties.length > 0 && <div className=\"selected-county-container\">\r\n                <h3>{getName(selectedCounty)}</h3>\r\n                <SelectedCountyInfoBox counties={counties} selectedCounty={selectedCounty} /></div>}\r\n              \r\n            </div>\r\n\r\n            <div className=\"infotext\"><span>Map displaying ratio between county immigration and emigration</span></div>\r\n            <div className=\"content-container\">\r\n              \r\n              <LinearScale /><div className=\"map-container\">\r\n              \r\n              {counties.length > 0 && <MapContainer selected={selectedCounty} selectCounty={county => setSelectedCounty(county)} counties={counties} />}  \r\n              </div>\r\n\r\n              {!selectedCounty && !show && <div className=\"placeholderContainer\">\r\n                <h2>Hi and welcome to POP.FLO!</h2>\r\n                <p>Choose a county to explore its emigration and immigration in detail!</p>\r\n                </div>}\r\n              \r\n              <div className=\"sankeyContainer\">\r\n                {selectedCounty && counties.length > 0 && <SankeyContainer selected={selectedCounty} counties={counties} year={year} />}\r\n              </div>\r\n              <div className=\"sankeyContainerOut\">\r\n                {selectedCounty && counties.length > 0 && <SankeyContainerOut selected={selectedCounty} counties={counties} year={year} />}\r\n              </div>\r\n              {/* {selectedCounty && counties.length > 0 &&\r\n              <div className=\"countyinfo\"> The <b>Sankey diagrams</b> displays the full details of the immigration and emigration\r\n              to and from a county. The width\r\n              <p>The different counties in the Sankey are colored dependent on which part of Sweden\r\n                  they belong to; <br></br><text className=\"green\">green</text> = <text className=\"green\">Norrland</text>, <br></br><text className=\"purple\">purple</text> = <text className=\"purple\">Götaland</text>\r\n              <br></br> <text className=\"red\">red</text> = <text className=\"red\">Svealand</text>\r\n              </p> </div> } */}\r\n\r\n            </div>\r\n          </div>\r\n        }></Route>\r\n        <Route path=\"/DH2321-POP.FLO/about\" render={() => <About />}></Route>\r\n      </Switch>\r\n    </Router>\r\n\r\n\r\n  );\r\n}\r\n\r\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}